<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corona Virus</title>
   
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
<body>
  <div class="container">
<div class="italic"> <h1>Covid-19</h1>
<div>  <p>
  Αυτόματη ενημέρωση από https://corona.lmao.ninja και https://public.coronastats.co<br>
  By Chris Larry<br>
 </p></div>
</div>

<div class="row">
  <div class="col-md-4">
    <p></p>
    <H2>Παγκόσμιος είχαμε:</H2>
    <p id="death"></p>
  <p id="newd"></p>
  </div>

  <div class="col-md-8">
    <img src="https://ia801503.us.archive.org/30/items/github.com-NovelCOVID-API_-_2020-03-17_10-58-26/cover.jpg" class="rounded">
 

 </div>
 
<div class="container"> <br><Br>

</div>

<canvas class="container" id="countries"></canvas>
<canvas class="container" id="age"></canvas>
<canvas class="container" id="viruses"></canvas>
<canvas class="container" id="bydate"></canvas>
<canvas class="container" id="sex"></canvas>
<canvas class="container" id="why"></canvas>


<div class="col-md-12"><h1 class="italic">Αναλυτικά για την κάθε χώρα</h1></div>
<div id="country"></div>

  <p  >
    <A href="https://www.worldometers.info/coronavirus/?fbclid=IwAR0sMISpv7_UivI0BorGatG_CsRLlJ4jnoelzH9ANw2GLol4s2klgZjUuck" class="btn btn-primary">More</A>
  </p><br><br><br><br>
</div>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
<script>

/*
        fetch("https://pomber.github.io/covid19/timeseries.json")
  .then(response => response.json())
  .then(data => {
    data["Greece"].forEach(({ date, confirmed, recovered, deaths }) =>
    document.getElementById('greece').innerHTML= `${date} active cases: ${confirmed} - recovered: ${recovered} - deaths: ${deaths}
      `)})

*/
fetch("https://corona.lmao.ninja/countries")
.then(function (response) {
                return response.json();
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });

function appendData(data) {
            var mainContainer = document.getElementById("country");
            for (var i = 0; i < data.length; i++) {
             var div = document.createElement("div");
             div.innerHTML = `<h1>${data[i].country}</h1><p>Συνολικά είναι ${data[i].cases} υποθέσεις, σήμερα είχαμε ${data[i].todayCases} καινούριες. Συνολικά πέθαναν ${data[i].deaths} άνθρωποι ενώ σήμερα είχαμε ${data[i].todayDeaths} θανάτους, έγιναν καλά ${data[i].recovered} και σε κρίσιμη κατάσταση είναι ${data[i].critical}. Στα νοσοκομεία νοσηλεύονται ${data[i].active}. Ενώ οι υποθέσεις ανά εκατομμύριο πολιτών είναι ${data[i].casesPerOneMillion}</p>`;
   
                mainContainer.appendChild(div);
 
            }
        }

fetch("https://corona.lmao.ninja/countries")
.then(function (response) {
                return response.json();
            })
            .then(data => {
          

var ctx = document.getElementById('countries').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [data[0].country, data[1].country, data[2].country, data[3].country, data[4].country, data[5].country, data[6].country, data[7].country, data[8].country, data[9].country, data[10].country, data[11].country, data[29].country   ],        datasets: [{
            label: 'Θανατοι απο τον κορονοϊό.',
            data: [data[0].deaths, data[1].deaths, data[2].deaths, data[3].deaths, data[4].deaths, data[5].deaths, data[6].deaths, data[7].deaths, data[8].deaths, data[9].deaths, data[10].deaths, data[11].deaths, data[29].deaths ],
            backgroundColor: [         ],
            borderColor: [       ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
})



var ctx = document.getElementById('age').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [ "0-9 Ετών","10-19 Ετών" , "20-29 Ετών", "30-39 Ετών", "40-49 Ετών", "50-59 Ετών", "60-69 Ετών", "70-79 Ετών", "80+ Ετών"  ],        datasets: [{
            label: 'Θάνατοι αναλογικά με την ηλικία σε ποσοστό %',
            data: [ 0, 0.2, 0.2, 0.2, 0.4, 1.3, 3.6, 8, 14.8 ],
            backgroundColor: [         ],
            borderColor: [       ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

var ctx = document.getElementById('viruses').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [ "Swine Flu", "MERS" , "SARS", "seasonal flu", "Coronavirus" ],      
          datasets: [{
            label: 'Θνησιμότητα του κάθε ιού σε ποσοστό %',
            data: [ 0.02, 34, 9.6, 0.1, 3.4 ],
            backgroundColor: [  "green","purple"  ,"blue","yellow","red"    ],
            borderColor: [  "green","purple"  ,"blue","yellow", "red"    ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: false
                }
            }]
        }
    }
});

var ctx = document.getElementById('bydate').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: [ "22 Ιανουαρίου", "28 Ιανουαρίου" , "3 Φεβρουαρίου", "9 Φεβρουαρίου", "15 Φεβρουαρίου",
         "21 Φεβρουαρίου", "1 Μαρτίου", "7 Μαρτίου", "13 Μαρτίου", "20 Μαρτίου" ],      
          datasets: [{
            label: 'Διάγραμμα θανάτων μέχρι τώρα',
            data: [ 17, 132, 426, 910, 1669, 2360, 3050, 3599, 5429, 11387 ],
            backgroundColor: [  "red"     ],
            borderColor: [  "red"     ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
var ctx = document.getElementById('sex').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: [ "Άντρες" , "Γυναίκες" ],      
          datasets: [{
            label: 'Διάγραμμα θανάτων μέχρι τώρα',
            data: [ 4.7, 2.8 ],
            backgroundColor: [  "blue", "red"     ],
            borderColor: [   "blue","red"     ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

var ctx = document.getElementById('why').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [ "Καρδιακά προβλήματα" , "Διαβήτη", "Χρόνια αναπνευστικά προβλήματα ", "Υπέρταση", "Καρκίνο", "Κάτι που δεν προϋπάρχει" ],      
          datasets: [{
            label: 'Διάγραμμα θανάτων μέχρι τώρα',
            data: [ 13.2, 9.2, 8.0, 8.4 , 7.6 , 0.9],
            backgroundColor: [  "blue", "red", "green" ,"yellow", "purple"  ,"grey"  ],
            borderColor: [   "blue","red" , "green" ,"yellow", "purple" ,"grey"     ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});

fetch("https://corona.lmao.ninja/all")
.then(response => response.json())
.then(data => {
  document.getElementById('death').innerHTML=`<br>Kρούσματα: ${data.cases}<br>Nεκρούς: ${data.deaths} <br>Ανάρρωσαν: ${data.recovered}`;

});

fetch("https://public.coronastats.co/mini.json")
.then(response => response.json())
.then(data => {
  document.getElementById('newd').innerHTML=`<br>Σήμερα είχαμε ${data.data.new.deaths} νεκρούς.<br>
  Σε κρίσιμη κατάσταση ${data.data.active.critical}.<br>
  Συνολικά τα κρούσματα είναι ${data.data.active.total}.<br>
  Συνολικά τα νεα κρούσματα είναι ${data.data.new.cases}.<br>
  Συνολικά Ανάρρωσαν ${data.data.closed.recoveries}

   
   `;
//console.log(data);
});


// document.getElementById('news').innerHTML = '<h3>'+data.articles[i].title+' </h3><p>'+data.articles[i].description+'</p>';

/*
API for Current cases and more stuff about COVID-19 or the Novel Coronavirus Strain

Get the endpoint https://corona.lmao.ninja/all to get information for all cases

Get the endpoint https://corona.lmao.ninja/countries for getting the data sorted country wise

Get the endpoint https://corona.lmao.ninja/countries?sort=[property] for getting the data sorted country wise, sorting by property (ex. cases, todayCases, deaths, todayDeaths, recovered, critical)

Get the endpoint https://corona.lmao.ninja/countries/[country-name] for getting the data for a specific country

10/10 api

Data Source: https://www.worldometers.info/coronavirus/


*/



</script>
</html>